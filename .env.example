# Example environment variables for local development.
# Copy this file to `.env` and adjust values as needed.
# This file is NOT used in production and should not contain secrets.

# ---------------------------------------------------------------------------
# PostgreSQL / Database
# ---------------------------------------------------------------------------

# Primary Postgres database used by both ETL and API layers.
# Legacy DSN (still supported by ETL config helpers):
# postgresql://USER:PASSWORD@HOST:PORT/DBNAME
PG_DSN=postgresql://postgres:postgres@localhost:5432/basketball

# Unified CLI / Docker-style connection pieces (used by scripts/cli.py, docker-compose)
PGHOST=localhost
PGPORT=5432
PGUSER=basketball
PGPASSWORD=basketball
PGDATABASE=basketball

# Async SQLAlchemy-style DSN for the API. If unset, api.config.ApiSettings
# will fall back to the default below. Set this if you want the API to use a
# different DSN than the ETL.
# API_PG_DSN=postgresql+asyncpg://postgres:postgres@localhost:5432/basketball

# ---------------------------------------------------------------------------
# ETL configuration
# ---------------------------------------------------------------------------

# Root directory for CSV input files, relative to the repo root.
CSV_ROOT=./csv_files

# Canonical ETL CSV root (used by ETL + Docker api/etl services)
ETL_CSV_ROOT=./data

# Path to expectations config (used by ETL + Docker)
ETL_EXPECTATIONS_PATH=etl/expectations.yaml

# Target schema name for ETL loads (keep aligned with db/schema.sql).
ETL_SCHEMA=public

# Optional: number of rows per batch when loading via COPY/insert.
# COPY_BATCH_SIZE=50000

# ---------------------------------------------------------------------------
# Metrics registry
# ---------------------------------------------------------------------------

# Path to metrics registry YAML (used by metrics.registry)
METRICS_REGISTRY_PATH=metrics/registry.yaml

# ---------------------------------------------------------------------------
# API / Frontend integration
# ---------------------------------------------------------------------------

# Base URL where the FastAPI backend is reachable from the frontend.
# In local dev, this typically matches your uvicorn host/port.
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000

# API process tuning (used by scripts.cli run-api; optional)
API_LOG_LEVEL=info
API_WORKERS=2

# If you choose to override FastAPI port/host in your launch config,
# reflect that here so the Next.js frontend hits the correct origin.
# Example:
# NEXT_PUBLIC_API_BASE_URL=http://127.0.0.1:8000